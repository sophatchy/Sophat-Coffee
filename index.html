<!DOCTYPE html>
<html lang="kh" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sophat Solutions - Treat Me a Coffee</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Font: Kantumruy Pro & Roboto -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:ital,wght@0,100..700;1,100..700&family=Roboto:wght@700;900&display=swap" rel="stylesheet">

    <!-- Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Kantumruy Pro', 'sans-serif'],
                        logo: ['Roboto', 'sans-serif'],
                    },
                    colors: {
                        coffee: '#78350f',
                        beer: '#f59e0b',
                        ice: '#0ea5e9',
                        pizza: '#ef4444',
                        steak: '#7f1d1d',
                        salmon: '#fb7185',
                        chicken: '#d97706',
                        bbq: '#c2410c',    /* Orange 700 */
                        lobster: '#be123c', /* Rose 700 */
                        aba: '#005f7f',
                        abaCyan: '#00a3da',
                        khqr: '#E1232E',
                    },
                    animation: {
                        'bounce-slow': 'bounce 3s infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'spin-slow': 'spin 12s linear infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #fafafa;
            transition: background-color 0.5s ease, color 0.5s ease;
            overflow-x: hidden;
        }

        /* Modern Grid Background Pattern */
        .bg-grid-pattern {
            background-image: radial-gradient(rgba(0, 0, 0, 0.05) 1px, transparent 1px);
            background-size: 24px 24px;
        }
        body.theme-beer .bg-grid-pattern, body.theme-steak .bg-grid-pattern, body.theme-bbq .bg-grid-pattern {
            background-image: radial-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px);
        }
        
        .treat-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            cursor: pointer;
        }
        .treat-card:active {
            transform: scale(0.95);
        }
        .treat-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .treat-card.active {
            border-color: currentColor;
            background-color: #fff;
            transform: scale(1.05);
            box-shadow: 0 0 0 4px rgba(0,0,0,0.05);
            z-index: 10;
        }

        .floating-emoji {
            position: fixed;
            pointer-events: none;
            animation: floatUp 2s ease-out forwards;
            z-index: 50;
            font-size: 2rem;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            20% { opacity: 1; transform: translateY(-20px) scale(1.2); }
            100% { transform: translateY(-150px) scale(1); opacity: 0; }
        }

        /* Dynamic Backgrounds */
        body.theme-hot { background-color: #fff7ed; }
        body.theme-ice { background-color: #f0f9ff; }
        body.theme-beer { background-color: #0f172a; color: white; }
        body.theme-pizza { background-color: #fef2f2; }
        body.theme-steak { background-color: #2a0a0a; color: white; }
        body.theme-salmon { background-color: #fff1f2; }
        body.theme-chicken { background-color: #fffbeb; }
        body.theme-bbq { background-color: #431407; color: white; }
        body.theme-lobster { background-color: #881337; color: white; }

        /* Dark Mode Adaptability */
        .dark-mode-text .text-slate-900 { color: #f8fafc; }
        .dark-mode-text .text-slate-500 { color: #94a3b8; }
        .dark-mode-text .bg-white { background-color: #1e293b; border-color: #334155; color: white; }
        .dark-mode-text .treat-card { background: rgba(30, 41, 59, 0.8); border-color: transparent; }
        .dark-mode-text footer { border-top-color: #334155; }
        
        .khqr-frame {
            background: linear-gradient(135deg, #003D5B 0%, #005F7F 100%);
            padding: 3px;
            border-radius: 1.5rem;
            box-shadow: 0 20px 60px -15px rgba(0, 95, 127, 0.4);
        }

        .aba-logo-text { font-family: 'Roboto', sans-serif; letter-spacing: -1px; }

        .social-link { transition: all 0.3s; }
        .social-link:hover { transform: translateY(-3px); }
        .hover-fb:hover { color: #1877F2; }
        .hover-tg:hover { color: #229ED9; }
        .hover-ig:hover { color: #E1306C; }
        .hover-yt:hover { color: #FF0000; }
        .hover-tt:hover { color: #000000; }
        .dark-mode-text .hover-tt:hover { color: #ffffff; text-shadow: 0 0 10px rgba(255,255,255,0.5); }

        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #1f2937;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 12px 24px;
            position: fixed;
            z-index: 100;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%) translateY(20px);
            font-size: 14px;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>
<body class="text-slate-900 min-h-screen flex flex-col transition-colors duration-500 relative bg-grid-pattern">

    <div id="emoji-container"></div>

    <!-- Main Content Wrapper -->
    <div class="flex-grow flex flex-col items-center py-10 px-4 relative z-10">

        <!-- Top Controls (Share) -->
        <div class="absolute top-4 right-4">
            <button onclick="sharePage()" class="w-10 h-10 rounded-full bg-white/60 hover:bg-white shadow-sm transition flex items-center justify-center text-slate-500 hover:text-slate-900 backdrop-blur-sm" title="á…áŸ‚á€ášáŸ†á›áŸ‚á€">
                <i class="fa-solid fa-arrow-up-from-bracket"></i>
            </button>
        </div>

        <!-- Header -->
        <header class="text-center mb-10 max-w-2xl mt-12">
            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 backdrop-blur-md shadow-sm border border-slate-200 mb-6 animate-float cursor-default select-none">
                <span class="w-2.5 h-2.5 rounded-full bg-green-500 animate-pulse"></span>
                <span class="text-sm font-bold text-green-700">áŠáŸ„áŸ‡áŸáŸ’ášá¶á™á”á¶á“ áŸ¡áŸ áŸ % á‘á¾á”á‘á‘á½á›á€á¶ášá”áŸ‰á¶áœ</span>
            </div>
            <h1 class="text-4xl md:text-6xl font-bold mb-4 leading-tight tracking-tight">
                á…á„áŸ‹á”áŸ‰á¶áœááŸ’á‰á»áŸ†á á¼á”á¢á¸?
            </h1>
            <p class="text-slate-500 text-lg">
                á‡áŸ’ášá¾áŸášá¾áŸášá”áŸáŸ‹áŠáŸ‚á›á¢áŸ’á“á€á…á„áŸ‹á”áŸ‰á¶áœáá¶á„á€áŸ’ášáŸ„á˜ á”á“áŸ’á‘á¶á”áŸ‹á˜á€á”áŸ’ášá¶á”áŸ‹ááŸ’á‰á»áŸ†á–á¸á”á‰áŸ’á á¶ášá”áŸáŸ‹á¢áŸ’á“á€áŸ”
            </p>
        </header>

        <!-- Menu List (8 Items) -->
        <main class="w-full max-w-6xl grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-16">
            
            <!-- Hot Coffee -->
            <div onclick="selectItem('hot')" class="treat-card p-6 rounded-3xl cursor-pointer group text-coffee flex flex-col items-center justify-between min-h-[220px]" id="card-hot">
                <div class="text-4xl mb-2 group-hover:scale-125 transition-transform duration-300"><i class="fa-solid fa-mug-hot"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-lg">Hot Coffee</h3>
                    <p class="text-xs opacity-70 mt-1 mb-3 leading-relaxed">á–áŸá›á–áŸ’ášá¹á€ á¬áŸáŸ†áá½ášá”á…áŸ’á…áŸá€á‘áŸáŸááŸ’á›á¸áŸ—áŸ”</p>
                </div>
                <span class="text-xs font-bold bg-orange-100 text-orange-800 px-3 py-1 rounded-full">$1.50</span>
            </div>

            <!-- Ice Coffee -->
            <div onclick="selectItem('ice')" class="treat-card p-6 rounded-3xl cursor-pointer group text-ice flex flex-col items-center justify-between min-h-[220px]" id="card-ice">
                <div class="text-4xl mb-2 group-hover:scale-125 transition-transform duration-300"><i class="fa-solid fa-glass-water"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-lg">Ice Coffee</h3>
                    <p class="text-xs opacity-70 mt-1 mb-3 leading-relaxed">á€á¶ášá„á¶áš á¬á–á·á‚áŸ’ášáŸ„áŸ‡á™áŸ„á”á›áŸ‹á‘á¼á‘áŸ…áŸ”</p>
                </div>
                <span class="text-xs font-bold bg-sky-100 text-sky-800 px-3 py-1 rounded-full">$2.50</span>
            </div>

            <!-- Cold Beer -->
            <div onclick="selectItem('beer')" class="treat-card p-6 rounded-3xl cursor-pointer group text-beer flex flex-col items-center justify-between min-h-[220px]" id="card-beer">
                <div class="text-4xl mb-2 group-hover:scale-125 transition-transform duration-300"><i class="fa-solid fa-beer-mug-empty"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-lg">Cold Beer</h3>
                    <p class="text-xs opacity-70 mt-1 mb-3 leading-relaxed">Bug áˆáºá€áŸ’á”á¶á› á¬á“á·á™á¶á™á‚áŸ’á“á¶á›áŸ’á„á¶á…áŸ—áŸ”</p>
                </div>
                <span class="text-xs font-bold bg-amber-100 text-amber-800 px-3 py-1 rounded-full">$3.00</span>
            </div>

            <!-- Roasted Chicken -->
            <div onclick="selectItem('chicken')" class="treat-card p-6 rounded-3xl cursor-pointer group text-chicken flex flex-col items-center justify-between min-h-[220px]" id="card-chicken">
                <div class="text-4xl mb-2 group-hover:scale-125 transition-transform duration-300"><i class="fa-solid fa-drumstick-bite"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-lg">Roasted Chicken</h3>
                    <p class="text-xs opacity-70 mt-1 mb-3 leading-relaxed">áŸá˜áŸ’ášá¶á”áŸ‹á‡áŸ†á“á½á™á–á·áŸáŸáŸ á“á·á„ášá áŸáŸáŸ”</p>
                </div>
                <span class="text-xs font-bold bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full">$8.00</span>
            </div>

            <!-- Pizza -->
            <div onclick="selectItem('pizza')" class="treat-card p-6 rounded-3xl cursor-pointer group text-pizza flex flex-col items-center justify-between min-h-[220px]" id="card-pizza">
                <div class="text-4xl mb-2 group-hover:scale-125 transition-transform duration-300"><i class="fa-solid fa-pizza-slice"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-lg">Pizza / Meal</h3>
                    <p class="text-xs opacity-70 mt-1 mb-3 leading-relaxed">Project á’áŸ† á¬á‡á½á™áŠáŸ„áŸ‡áŸáŸ’ášá¶á™á”á“áŸ’á‘á¶á“áŸ‹áŸ”</p>
                </div>
                <span class="text-xs font-bold bg-red-100 text-red-800 px-3 py-1 rounded-full">$10.00</span>
            </div>

            <!-- Salmon -->
            <div onclick="selectItem('salmon')" class="treat-card p-6 rounded-3xl cursor-pointer group text-salmon flex flex-col items-center justify-between min-h-[220px]" id="card-salmon">
                <div class="text-4xl mb-2 group-hover:scale-125 transition-transform duration-300"><i class="fa-solid fa-fish"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-lg">Salmon</h3>
                    <p class="text-xs opacity-70 mt-1 mb-3 leading-relaxed">áŸá˜áŸ’ášá¶á”áŸ‹á‚áŸ†á“á·áá…áŸ’á“áŸƒá”áŸ’ášáŒá·á á“á·á„á™á»á‘áŸ’á’áŸá¶áŸáŸ’ááŸ’ášáŸ”</p>
                </div>
                <span class="text-xs font-bold bg-rose-100 text-rose-800 px-3 py-1 rounded-full">$12.00</span>
            </div>

            <!-- Beef Steak -->
            <div onclick="selectItem('steak')" class="treat-card p-6 rounded-3xl cursor-pointer group text-steak flex flex-col items-center justify-between min-h-[220px]" id="card-steak">
                <div class="text-4xl mb-2 group-hover:scale-125 transition-transform duration-300"><i class="fa-solid fa-utensils"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-lg">Beef Steak</h3>
                    <p class="text-xs opacity-70 mt-1 mb-3 leading-relaxed">á€á¶ášá„á¶ášá’áŸ† Full-Stack á¬ SystemáŸ”</p>
                </div>
                <span class="text-xs font-bold bg-red-100 text-red-900 px-3 py-1 rounded-full">$15.00</span>
            </div>

            <!-- BBQ Party ($50) -->
            <div onclick="selectItem('bbq')" class="treat-card p-6 rounded-3xl cursor-pointer group text-bbq flex flex-col items-center justify-between min-h-[220px]" id="card-bbq">
                <div class="text-4xl mb-2 group-hover:scale-125 transition-transform duration-300"><i class="fa-solid fa-fire-burner"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-lg">BBQ Party</h3>
                    <p class="text-xs opacity-70 mt-1 mb-3 leading-relaxed">á‡á”áŸ‹á›áŸ€á„á€áŸ’ášá»á˜á€á¶ášá„á¶áš á¬á¢á”á¢ášá‡áŸ„á‚á‡áŸá™áŸ”</p>
                </div>
                <span class="text-xs font-bold bg-orange-200 text-orange-900 px-3 py-1 rounded-full">$50.00</span>
            </div>

            <!-- King Lobster ($100) -->
            <div onclick="selectItem('lobster')" class="treat-card p-6 rounded-3xl cursor-pointer group text-lobster flex flex-col items-center justify-between min-h-[220px] col-span-1 sm:col-span-2 lg:col-span-4" id="card-lobster">
                <div class="text-5xl mb-2 group-hover:scale-125 transition-transform duration-300 animate-bounce-slow"><i class="fa-solid fa-shrimp"></i></div>
                <div class="text-center">
                    <h3 class="font-bold text-2xl">King Lobster</h3>
                    <p class="text-sm opacity-80 mt-1 mb-3 leading-relaxed">áŸá˜áŸ’ášá¶á”áŸ‹á˜á á¶áŸáŸáŠáŸ’á‹á¸á…á·ááŸ’áá›áŸ’á¢ á¬á‚á˜áŸ’ášáŸ„á„á€á˜áŸ’ášá·á EnterpriseáŸ”</p>
                </div>
                <span class="text-sm font-bold bg-rose-200 text-rose-900 px-6 py-1.5 rounded-full">$100.00</span>
            </div>

        </main>

        <!-- Payment Section -->
        <section id="request-section" class="w-full max-w-md transition-all duration-700 opacity-50 blur-[5px] pointer-events-none pb-12 scale-95">
            <div class="khqr-frame relative mb-8 transform transition-transform hover:scale-[1.01] duration-300">
                <div class="bg-white rounded-[1.3rem] p-8 overflow-hidden relative">
                    
                    <!-- Header -->
                    <div class="text-center mb-8 flex flex-col items-center justify-center">
                        <div class="flex items-baseline gap-1 aba-logo-text">
                            <span class="text-3xl font-black text-aba">ABA</span>
                            <span class="text-3xl font-black text-khqr">KHQR</span>
                        </div>
                        <p class="text-[10px] text-slate-400 mt-2 font-bold bg-slate-100 px-3 py-1 rounded-full inline-block uppercase tracking-wide">Scan á¬á…á»á… Link áŠá¾á˜áŸ’á”á¸á”áŸ‰á¶áœ</p>
                    </div>

                    <div class="flex flex-col items-center justify-center">
                        <!-- Selected Item Badge -->
                        <div class="flex items-center gap-3 bg-slate-50 px-4 py-2 rounded-xl mb-6 border border-slate-100 shadow-inner w-full justify-center">
                            <span id="selected-icon" class="text-xl text-slate-700"><i class="fa-solid fa-gift"></i></span>
                            <div class="text-left leading-tight">
                                <span id="selected-name" class="font-bold text-xs text-slate-800">Item</span>
                                <span class="text-slate-300 mx-1">|</span>
                                <span id="selected-price" class="font-bold text-xs text-green-600">---</span>
                            </div>
                        </div>

                        <!-- QR Code -->
                        <div class="w-60 h-auto bg-white rounded-2xl flex items-center justify-center mb-6 relative overflow-hidden border border-slate-200 shadow-xl p-3 group">
                            <div class="absolute inset-0 bg-gradient-to-tr from-blue-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>
                            <!-- Static QR Image with API Fallback -->
                            <img src="./IMG_2321.JPG" 
                                 onerror="this.onerror=null; this.src='https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=https://pay.ababank.com/oRF8/1kbk3d46&color=000000';" 
                                 alt="ABA QR Code" 
                                 class="w-full h-full object-contain rounded-xl">
                        </div>

                        <!-- Account Info -->
                        <div class="text-center mb-6 w-full">
                             <p class="font-bold text-slate-900 text-lg tracking-wide">CHY SOPHAT</p>
                             <div class="flex items-center justify-center gap-2 bg-slate-100/80 px-4 py-2 rounded-lg group cursor-pointer mt-2 hover:bg-aba hover:text-white transition-all duration-300 w-full" onclick="safeCopyToClipboard('000111343', true)">
                                <span class="font-mono font-bold tracking-widest text-base">000 111 343</span>
                                <i class="fa-regular fa-copy opacity-60"></i>
                            </div>
                        </div>

                         <!-- Direct Pay Link -->
                         <a href="https://pay.ababank.com/oRF8/1kbk3d46" target="_blank" class="w-full py-3.5 bg-aba text-white font-bold rounded-xl shadow-lg shadow-blue-500/30 hover:bg-sky-600 hover:shadow-sky-500/40 hover:-translate-y-1 transition-all duration-300 flex justify-center items-center gap-3 text-sm">
                            <i class="fa-solid fa-mobile-screen-button"></i>
                            <span>á…á»á…á‘á¸á“áŸáŸ‡áŠá¾á˜áŸ’á”á¸á”á„áŸ‹á”áŸ’ášá¶á€áŸ‹ (Open App)</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Contact Button -->
            <div class="bg-white/40 backdrop-blur-md border border-white/50 rounded-3xl p-6 text-center shadow-sm">
                <h3 class="font-bold text-base mb-1">á‡áŸ†á á¶á“á”á“áŸ’á‘á¶á”áŸ‹ (Next Step)</h3>
                <p class="text-xs text-slate-500 mb-4">á”á„áŸ‹ášá½á…á á¾á™ á¬á˜á¶á“á…á˜áŸ’á„á›áŸ‹á”á“áŸ’ááŸ‚á˜?</p>
                <button onclick="simpleContactTelegram()" class="w-full py-3 bg-white border-2 border-slate-900 text-slate-900 font-bold rounded-xl hover:bg-slate-900 hover:text-white hover:-translate-y-1 transition-all duration-300 shadow-sm text-sm flex justify-center items-center gap-2 group">
                    <i class="fa-brands fa-telegram text-xl text-blue-500 group-hover:text-white transition-colors"></i>
                    <span>á‘á¶á€áŸ‹á‘á„á˜á€ááŸ’á‰á»áŸ†áá¶á˜ Telegram</span>
                </button>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="w-full py-12 relative z-10">
        <div class="max-w-md mx-auto px-6 text-center">
            <div class="w-12 h-1 bg-slate-200 rounded-full mx-auto mb-8"></div>
            
            <h4 class="text-sm font-bold text-slate-400 uppercase tracking-widest mb-6">Follow Me On</h4>
            
            <!-- Social Icons Grid -->
            <div class="flex justify-center gap-6 mb-8 text-2xl text-slate-400">
                <a href="https://fb.com/SophatCHY" target="_blank" class="social-link hover-fb" title="Facebook"><i class="fa-brands fa-facebook"></i></a>
                <a href="https://t.me/SophatCHY" target="_blank" class="social-link hover-tg" title="Telegram"><i class="fa-brands fa-telegram"></i></a>
                <a href="https://www.instagram.com/sophatchy" target="_blank" class="social-link hover-ig" title="Instagram"><i class="fa-brands fa-instagram"></i></a>
                <a href="https://www.tiktok.com/@sophatchy" target="_blank" class="social-link hover-tt" title="TikTok"><i class="fa-brands fa-tiktok"></i></a>
                <a href="https://youtube.com/sophatchy" target="_blank" class="social-link hover-yt" title="YouTube"><i class="fa-brands fa-youtube"></i></a>
            </div>

            <div class="text-xs text-slate-400 font-mono opacity-50">
                Designed with ááŸ‚á„áŸáŸá…á€áŸ’áŠá¸ by Sophat CHY
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div id="toast">
        <i class="fa-solid fa-circle-check text-green-400 text-xl"></i> 
        <span class="font-bold">á”á¶á“ Copy á‘á»á€á á¾á™!</span>
    </div>

    <!-- BMC Widget -->
    <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="sophatchy" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18"></script>

    <!-- Logic -->
    <script>
        // --- Web Audio API for Guaranteed Sounds ---
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();

        function playTone(freq, type, duration) {
            const osc = audioContext.createOscillator();
            const gain = audioContext.createGain();
            osc.type = type;
            osc.frequency.value = freq;
            osc.connect(gain);
            gain.connect(audioContext.destination);
            osc.start();
            gain.gain.setValueAtTime(0.1, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.00001, audioContext.currentTime + duration);
            osc.stop(audioContext.currentTime + duration);
        }

        // 1. Beer "Ting"
        function playBeerSound() {
            playTone(1200, 'sine', 1.5);
            setTimeout(() => playTone(1600, 'sine', 1), 50);
        }

        // 2. Pouring
        function playCoffeeSound() {
            playTone(200, 'triangle', 0.5);
            setTimeout(() => playTone(150, 'triangle', 0.5), 200);
        }

        // 3. Rattle
        function playIceSound() {
            playTone(800, 'square', 0.1);
            setTimeout(() => playTone(900, 'square', 0.1), 150);
            setTimeout(() => playTone(700, 'square', 0.1), 300);
        }

        // 4. Sizzle (White Noise simulation)
        function playSizzleSound() {
            const bufferSize = audioContext.sampleRate * 1.5;
            const buffer = audioContext.createBuffer(1, bufferSize, audioContext.sampleRate);
            const data = buffer.getChannelData(0);
            for (let i = 0; i < bufferSize; i++) data[i] = Math.random() * 2 - 1;

            const noise = audioContext.createBufferSource();
            noise.buffer = buffer;
            const filter = audioContext.createBiquadFilter();
            filter.type = 'highpass';
            filter.frequency.value = 1000;
            const gain = audioContext.createGain();
            gain.gain.setValueAtTime(0.05, audioContext.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 1.5);

            noise.connect(filter);
            filter.connect(gain);
            gain.connect(audioContext.destination);
            noise.start();
        }

        // 5. Cha-Ching! (Money Sound)
        function playCashSound() {
            playTone(1200, 'sine', 0.1);
            setTimeout(() => playTone(2000, 'square', 0.4), 100);
        }

        const menuItems = {
            hot: { name: 'Hot Coffee', price: '$1.50', icon: '<i class="fa-solid fa-mug-hot"></i>', emoji: 'â˜•', theme: 'theme-hot' },
            ice: { name: 'Ice Coffee', price: '$2.50', icon: '<i class="fa-solid fa-glass-water"></i>', emoji: 'ğŸ¥¤', theme: 'theme-ice' },
            beer: { name: 'Cold Beer', price: '$3.00', icon: '<i class="fa-solid fa-beer-mug-empty"></i>', emoji: 'ğŸº', theme: 'theme-beer' },
            pizza: { name: 'Pizza / Meal', price: '$10.00', icon: '<i class="fa-solid fa-pizza-slice"></i>', emoji: 'ğŸ•', theme: 'theme-pizza' },
            steak: { name: 'Beef Steak', price: '$15.00', icon: '<i class="fa-solid fa-utensils"></i>', emoji: 'ğŸ¥©', theme: 'theme-steak' },
            salmon: { name: 'Salmon', price: '$12.00', icon: '<i class="fa-solid fa-fish"></i>', emoji: 'ğŸŸ', theme: 'theme-salmon' },
            chicken: { name: 'Roasted Chicken', price: '$8.00', icon: '<i class="fa-solid fa-drumstick-bite"></i>', emoji: 'ğŸ—', theme: 'theme-chicken' },
            bbq: { name: 'BBQ Party', price: '$50.00', icon: '<i class="fa-solid fa-fire-burner"></i>', emoji: 'ğŸ”¥', theme: 'theme-bbq' },
            lobster: { name: 'King Lobster', price: '$100.00', icon: '<i class="fa-solid fa-shrimp"></i>', emoji: 'ğŸ¦', theme: 'theme-lobster' }
        };

        let currentSelection = null;

        function selectItem(key) {
            // Resume Audio
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }

            currentSelection = menuItems[key];
            
            // Handle Dark Mode classes
            const isDark = ['beer', 'steak', 'bbq', 'lobster'].includes(key);
            if (isDark) document.body.classList.add('dark-mode-text');
            else document.body.classList.remove('dark-mode-text');

            // Theme Transition
            document.body.className = "text-slate-900 min-h-screen flex flex-col transition-colors duration-500 relative bg-grid-pattern " + (isDark ? 'dark-mode-text ' : '') + menuItems[key].theme;
            
            // --- SOUND EFFECTS ---
            if (key === 'beer') playBeerSound();
            else if (key === 'hot') playCoffeeSound();
            else if (key === 'ice') playIceSound();
            else if (key === 'pizza') playCoffeeSound();
            else if (['steak', 'salmon', 'chicken', 'bbq'].includes(key)) playSizzleSound();
            else if (key === 'lobster') playCashSound();

            document.querySelectorAll('.treat-card').forEach(el => el.classList.remove('active', 'ring-2', 'ring-offset-2'));
            const card = document.getElementById(`card-${key}`);
            card.classList.add('active');
            let ringColor = 'ring-slate-400';
            // Set ring colors based on item
            if(key === 'hot') ringColor = 'ring-orange-500';
            else if(key === 'ice') ringColor = 'ring-sky-500';
            else if(key === 'beer') ringColor = 'ring-amber-500';
            else if(key === 'pizza') ringColor = 'ring-red-500';
            else if(key === 'steak') ringColor = 'ring-red-800';
            else if(key === 'salmon') ringColor = 'ring-rose-400';
            else if(key === 'chicken') ringColor = 'ring-yellow-600';
            else if(key === 'bbq') ringColor = 'ring-orange-700';
            else if(key === 'lobster') ringColor = 'ring-rose-700';
            
            card.classList.add('ring-2', 'ring-offset-2', ringColor);

            document.getElementById('selected-name').innerText = menuItems[key].name;
            document.getElementById('selected-price').innerText = menuItems[key].price;
            document.getElementById('selected-icon').innerHTML = menuItems[key].icon;

            const formSection = document.getElementById('request-section');
            formSection.classList.remove('opacity-50', 'blur-[5px]', 'pointer-events-none', 'scale-95');
            formSection.scrollIntoView({ behavior: 'smooth', block: 'center' });

            triggerFloatingEmojis(menuItems[key].emoji);
        }

        function triggerFloatingEmojis(icon) {
            const container = document.getElementById('emoji-container');
            for(let i=0; i<8; i++) {
                const el = document.createElement('div');
                el.innerText = icon;
                el.className = 'floating-emoji';
                el.style.left = Math.random() * 100 + 'vw';
                el.style.bottom = '-50px';
                el.style.animationDuration = (Math.random() * 2 + 1) + 's';
                container.appendChild(el);
                setTimeout(() => el.remove(), 3000);
            }
        }

        function triggerConfetti() {
            triggerFloatingEmojis('ğŸ‰');
            triggerFloatingEmojis('ğŸ’¸');
        }

        function sharePage() {
            if (navigator.share) {
                navigator.share({
                    title: 'Sophat Solutions',
                    text: 'Check out this awesome page!',
                    url: window.location.href,
                }).catch(err => console.log('Share canceled'));
            } else {
                safeCopyToClipboard(window.location.href, false);
                showToast("Link Copied!");
            }
        }

        function simpleContactTelegram() {
            let fullMessage = `ğŸ‘‹ áŸá½áŸáŸ’áá¸ Sophat!\n`;
            if (currentSelection) {
                fullMessage += `ğŸ ááŸ’á‰á»áŸ†á”á¶á“á”áŸ‰á¶áœ: ${currentSelection.name} (${currentSelection.price})`;
            }
            if (!navigator.clipboard) {
                fallbackCopyTextToClipboard(fullMessage);
                showToast("á”á¶á“ Copy áŸá¶ášá‘á»á€á á¾á™!");
            } else {
                 navigator.clipboard.writeText(fullMessage).then(() => {
                     showToast("á”á¶á“ Copy áŸá¶ášá‘á»á€á á¾á™!");
                 }).catch(err => {
                    fallbackCopyTextToClipboard(fullMessage);
                    showToast("á”á¶á“ Copy áŸá¶ášá‘á»á€á á¾á™!");
                 });
            }
            setTimeout(() => { window.open('https://t.me/SophatCHY', '_blank'); }, 800);
        }

        function fallbackCopyTextToClipboard(text) {
            var textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.position = "fixed";
            textArea.style.opacity = "0";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            try { document.execCommand('copy'); } catch (err) {}
            document.body.removeChild(textArea);
        }

        function safeCopyToClipboard(text, isConfetti) {
            if (isConfetti) triggerConfetti();
            if (!navigator.clipboard) {
                if (fallbackCopyTextToClipboard(text)) showToast("á”á¶á“ Copy á‘á»á€á á¾á™!");
                return;
            }
            navigator.clipboard.writeText(text).then(function() {
                showToast("á”á¶á“ Copy á‘á»á€á á¾á™!");
            }, function(err) {
                if (fallbackCopyTextToClipboard(text)) showToast("á”á¶á“ Copy á‘á»á€á á¾á™!");
            });
        }

        function showToast(text) {
            const toast = document.getElementById("toast");
            toast.querySelector('span').innerText = text;
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }
    </script>
</body>
</html>
